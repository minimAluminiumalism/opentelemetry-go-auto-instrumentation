在正常情况下，`go build`命令通过以下主要步骤来编译一个Golang应用程序：

1. 源代码解析：Golang编译器首先解析源代码文件，并将它们转换为抽象语法树（AST）。
2. 类型检查：解析后，类型检查确保代码遵守Golang的类型系统。
3. 语义分析：这涉及分析程序的语义，包括变量定义和使用，以及包导入。
4. 编译优化：语法树被转换为中间表示，并执行各种优化以提高代码执行效率。
5. 代码生成：生成目标平台的机器码。
6. 链接：将不同的包和库链接在一起，形成一个单一的可执行文件。

当使用我们的自动埋点工具时，在上述步骤之前会增加两个额外的阶段：**预处理**和**埋点**。

![](../../public/workflow.png)

- `预处理`：分析依赖关系并选择稍后应使用的规则。
- `埋点`：根据规则生成代码，并将新代码注入源代码。
